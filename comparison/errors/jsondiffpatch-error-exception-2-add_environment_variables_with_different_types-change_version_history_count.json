{
  "library": "jsondiffpatch",
  "error": "Patch sequence must be an array\nname: SEQUENCE_NOT_AN_ARRAY",
  "stack": "SEQUENCE_NOT_AN_ARRAY: Patch sequence must be an array\nname: SEQUENCE_NOT_AN_ARRAY\n    at new PatchError (/Users/siddharthsuresh/Developer/schema-json-patch/node_modules/fast-json-patch/commonjs/helpers.js:170:28)\n    at applyPatch (/Users/siddharthsuresh/Developer/schema-json-patch/node_modules/fast-json-patch/commonjs/core.js:271:31)\n    at <anonymous> (/Users/siddharthsuresh/Developer/schema-json-patch/comparison/index.ts:235:55)\n    at isPatchValid (/Users/siddharthsuresh/Developer/schema-json-patch/comparison/index.ts:225:3)\n    at <anonymous> (/Users/siddharthsuresh/Developer/schema-json-patch/comparison/index.ts:778:28)\n    at processTicksAndRejections (native:7:39)",
  "doc1": {
    "environments": [
      {
        "id": "ver-claudeo-civis",
        "name": "compassionate-aftermath",
        "region": "eu-central-1",
        "source": {
          "type": "github",
          "owner": "gleason - kulas",
          "repo": "adnuo-natus-arca",
          "branch": "main",
          "trigger": "push"
        },
        "services": [
          {
            "id": "a-cognatus-arca",
            "name": "cultivate customized infrastructures",
            "type": "worker",
            "cpu": 1,
            "memory": 2,
            "minInstances": 2,
            "maxInstances": 3
          },
          {
            "id": "utrimque-acsi-spargo",
            "name": "grow mission-critical channels",
            "type": "web",
            "cpu": 4,
            "memory": 8,
            "minInstances": 1,
            "maxInstances": 8
          },
          {
            "id": "utor-varius-ago",
            "name": "benchmark cross-platform synergies",
            "type": "web",
            "cpu": 1,
            "memory": 8,
            "minInstances": 2,
            "maxInstances": 8
          },
          {
            "id": "comedo-stipes-trucido",
            "name": "architect seamless web services",
            "type": "db",
            "cpu": 0.5,
            "memory": 4,
            "minInstances": 1,
            "maxInstances": 6
          }
        ]
      },
      {
        "id": "consuasor-ver-qui",
        "name": "aggravating-travel",
        "region": "eu-central-1",
        "source": {
          "type": "github",
          "owner": "dach, collins and watsica",
          "repo": "subiungo-aedificium-temeritas",
          "branch": "main",
          "trigger": "push"
        },
        "services": [
          {
            "id": "subseco-ambulo-cupio",
            "name": "redefine immersive ROI",
            "type": "worker",
            "cpu": 2,
            "memory": 2,
            "minInstances": 2,
            "maxInstances": 7
          },
          {
            "id": "venio-apto-apud",
            "name": "strategize holistic communities",
            "type": "db",
            "cpu": 0.5,
            "memory": 4,
            "minInstances": 2,
            "maxInstances": 9
          },
          {
            "id": "quia-tantillus-conscendo",
            "name": "enhance user-centric large language models",
            "type": "db",
            "cpu": 2,
            "memory": 4,
            "minInstances": 1,
            "maxInstances": 10
          },
          {
            "id": "defaeco-nesciunt-cumque",
            "name": "engage user-centric mindshare",
            "type": "web",
            "cpu": 2,
            "memory": 1,
            "minInstances": 2,
            "maxInstances": 9
          }
        ]
      }
    ]
  },
  "doc2": {
    "environments": [
      {
        "id": "ver-claudeo-civis",
        "name": "compassionate-aftermath",
        "region": "eu-central-1",
        "source": {
          "type": "github",
          "owner": "gleason - kulas",
          "repo": "adnuo-natus-arca",
          "branch": "main",
          "trigger": "push"
        },
        "services": [
          {
            "id": "a-cognatus-arca",
            "name": "cultivate customized infrastructures",
            "type": "worker",
            "cpu": 1,
            "memory": 2,
            "minInstances": 2,
            "maxInstances": 3
          },
          {
            "id": "utrimque-acsi-spargo",
            "name": "grow mission-critical channels",
            "type": "web",
            "cpu": 4,
            "memory": 8,
            "minInstances": 1,
            "maxInstances": 8
          },
          {
            "id": "utor-varius-ago",
            "name": "benchmark cross-platform synergies",
            "type": "web",
            "cpu": 1,
            "memory": 8,
            "minInstances": 2,
            "maxInstances": 8,
            "versionHistoryCount": 9
          },
          {
            "id": "comedo-stipes-trucido",
            "name": "architect seamless web services",
            "type": "db",
            "cpu": 0.5,
            "memory": 4,
            "minInstances": 1,
            "maxInstances": 6,
            "envVariables": {
              "STRING_VAR": "adhuc",
              "NUMBER_VAR": 11,
              "BOOLEAN_VAR": false,
              "PARAM_VAR": {
                "fromParameterStore": "/app/ex"
              },
              "SECRET_VAR": {
                "fromSecretsManager": "curatio-secret"
              }
            }
          }
        ]
      },
      {
        "id": "consuasor-ver-qui",
        "name": "aggravating-travel",
        "region": "eu-central-1",
        "source": {
          "type": "github",
          "owner": "dach, collins and watsica",
          "repo": "subiungo-aedificium-temeritas",
          "branch": "main",
          "trigger": "push"
        },
        "services": [
          {
            "id": "subseco-ambulo-cupio",
            "name": "redefine immersive ROI",
            "type": "worker",
            "cpu": 2,
            "memory": 2,
            "minInstances": 2,
            "maxInstances": 7
          },
          {
            "id": "venio-apto-apud",
            "name": "strategize holistic communities",
            "type": "db",
            "cpu": 0.5,
            "memory": 4,
            "minInstances": 2,
            "maxInstances": 9
          },
          {
            "id": "quia-tantillus-conscendo",
            "name": "enhance user-centric large language models",
            "type": "db",
            "cpu": 2,
            "memory": 4,
            "minInstances": 1,
            "maxInstances": 10
          },
          {
            "id": "defaeco-nesciunt-cumque",
            "name": "engage user-centric mindshare",
            "type": "web",
            "cpu": 2,
            "memory": 1,
            "minInstances": 2,
            "maxInstances": 9
          }
        ]
      }
    ]
  },
  "patch": {
    "environments": {
      "0": {
        "services": {
          "2": {
            "versionHistoryCount": [
              9
            ]
          },
          "3": {
            "envVariables": [
              {
                "STRING_VAR": "adhuc",
                "NUMBER_VAR": 11,
                "BOOLEAN_VAR": false,
                "PARAM_VAR": {
                  "fromParameterStore": "/app/ex"
                },
                "SECRET_VAR": {
                  "fromSecretsManager": "curatio-secret"
                }
              }
            ]
          },
          "_t": "a"
        }
      },
      "_t": "a"
    }
  },
  "modificationNames": [
    "Add environment variables with different types",
    "Change version history count"
  ]
}